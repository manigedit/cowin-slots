(this["webpackJsonpcowin-portal"]=this["webpackJsonpcowin-portal"]||[]).push([[0],{23:function(e,t,r){},42:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(15),i=r.n(s),o=(r(23),r(18)),c=r(16),l=r.n(c),u=r(17),d=(r(42),r(3)),f=function(){var e=a.a.useState(!1),t=Object(o.a)(e,2),r=t[0],n=t[1],s=a.a.useRef(),i=a.a.useRef(),c=a.a.useRef();function f(e,t){switch(e){case 10:if(/^[6-9]\d{9}$/.test(t))return!0;break;case 2:if(/^\d{2}$/.test(t))return!0;break;case 6:if(/^[8]\d{5}$/.test(t))return!0}return!1}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{children:[Object(d.jsx)("h1",{children:"Get instant Alerts for Vaccination slots"}),Object(d.jsx)("input",{disabled:r,placeholder:"Whatsapp Number",type:"tel",maxLength:"10",ref:s}),Object(d.jsx)("input",{disabled:r,placeholder:"Age",type:"tel",maxLength:"2",minLength:"2",ref:i}),Object(d.jsx)("input",{disabled:r,placeholder:"Pincode",type:"tel",maxLength:"6",ref:c}),Object(d.jsx)("button",{disabled:r,onClick:function(e){if(e.preventDefault(),n(!0),console.log("Submitting with ",s.current.value,i.current.value,c.current.value),!f(10,s.current.value))return alert("Phone number is Invalid"),void n(!1);if(!f(2,i.current.value))return n(!1),void alert("Please enter valid age");if(!f(6,c.current.value))return n(!1),void alert("Please enter valid pincode. Currently we only support Bihar");var t={method:"post",url:"https://cowinnotifierwa.herokuapp.com/user",data:{phone:s.current.value,age:i.current.value,pincode:c.current.value}};l()(t).then((function(e){if(200==e.status){if(s.current.value="",i.current.value="",c.current.value="","success"===e.data.status)return alert("Your Request has been submitted. We will notify you instantly for the slots"),void n(!1);if(e.data.message.indexOf("E11000")>-1)return alert("We already have your record. Stay safe! we will notify you"),void n(!1)}alert("Your request didn't go through. We may be little overloaded. Please try again"),n(!1)})).catch((function(e){n(!1),alert("Your request failed! we may be overloaded. Please try again")}))},children:r?Object(d.jsx)(u.BeatLoader,{size:6,marin:1,color:"#017DB7"}):"Submit"})]}),Object(d.jsxs)("a",{href:"https://twitter.com/manigedit",target:"_blank",children:[Object(d.jsx)("i",{className:"fa fa-twitter"}),"Follow Me"]}),Object(d.jsx)("link",{rel:"stylesheet",href:"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"}),Object(d.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Roboto:400",rel:"stylesheet",type:"text/css"})]})},h=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,72)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),h()}},[[71,1,2]]]);
//# sourceMappingURL=main.fdec0daf.chunk.js.map