{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","React","useState","loading","setLoading","phoneRef","useRef","ageRef","pincodeRef","isValid","length","entity","test","disabled","placeholder","type","maxLength","ref","minLength","onClick","e","preventDefault","console","log","current","value","alert","config","method","url","data","phone","age","pincode","axios","then","res","status","message","indexOf","catch","size","marin","color","href","target","className","rel","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iQA6JeA,EAvJH,WACV,MAA8BC,IAAMC,UAAS,GAA7C,mBAAOC,EAAP,KAAgBC,EAAhB,KAEMC,EAAWJ,IAAMK,SACjBC,EAASN,IAAMK,SACfE,EAAaP,IAAMK,SAEzB,SAASG,EAAQC,EAAQC,GACvB,OAAQD,GACN,KAAK,GAEH,GADW,eACFE,KAAKD,GACZ,OAAO,EAET,MAEF,KAAK,EAEH,GADW,UACFC,KAAKD,GACZ,OAAO,EAET,MAEF,KAAK,EAEH,GADW,aACFC,KAAKD,GACZ,OAAO,EAIb,OAAO,EAqET,OACE,qCACE,iCACE,0EACA,uBACEE,SAAUV,EACVW,YAAY,kBACZC,KAAK,MACLC,UAAU,KACVC,IAAKZ,IAEP,uBACEQ,SAAUV,EACVW,YAAY,MACZC,KAAK,MACLC,UAAU,IACVE,UAAU,IACVD,IAAKV,IAEP,uBACEM,SAAUV,EACVW,YAAY,UACZC,KAAK,MACLC,UAAU,IACVC,IAAKT,IAEP,wBAAQK,SAAUV,EAASgB,QA5FZ,SAACC,GAUpB,GATAA,EAAEC,iBACFjB,GAAW,GACXkB,QAAQC,IACN,mBACAlB,EAASmB,QAAQC,MACjBlB,EAAOiB,QAAQC,MACfjB,EAAWgB,QAAQC,QAGhBhB,EAAQ,GAAIJ,EAASmB,QAAQC,OAGhC,OAFAC,MAAM,gCACNtB,GAAW,GAGb,IAAKK,EAAQ,EAAGF,EAAOiB,QAAQC,OAG7B,OAFArB,GAAW,QACXsB,MAAM,0BAGR,IAAKjB,EAAQ,EAAGD,EAAWgB,QAAQC,OAGjC,OAFArB,GAAW,QACXsB,MAAM,+DAGR,IAAMC,EAAS,CACbC,OAAQ,OACRC,IAAI,6CACJC,KAAM,CACJC,MAAO1B,EAASmB,QAAQC,MACxBO,IAAKzB,EAAOiB,QAAQC,MACpBQ,QAASzB,EAAWgB,QAAQC,QAIhCS,IAAMP,GACHQ,MAAK,SAAUC,GACd,GAAkB,KAAdA,EAAIC,OAAe,CAIrB,GAHAhC,EAASmB,QAAQC,MAAQ,GACzBlB,EAAOiB,QAAQC,MAAQ,GACvBjB,EAAWgB,QAAQC,MAAQ,GACH,YAApBW,EAAIN,KAAKO,OAKX,OAJAX,MACE,oFAEFtB,GAAW,GAEN,GAAIgC,EAAIN,KAAKQ,QAAQC,QAAQ,WAAa,EAG/C,OAFAb,MAAM,mEACNtB,GAAW,GAKfsB,MAAM,iFAGNtB,GAAW,MAGZoC,OAAM,SAACpB,GACNhB,GAAW,GACXsB,MAAM,mEA8BN,SACGvB,EACC,cAAC,aAAD,CAAYsC,KAAM,EAAGC,MAAO,EAAGC,MAAO,YAEtC,cAKN,oBAAGC,KAAK,gCAAgCC,OAAO,SAA/C,UACE,mBAAGC,UAAU,kBADf,eAIA,sBACEC,IAAI,aACJH,KAAK,0EAEP,sBACEA,KAAK,qDACLG,IAAI,aACJhC,KAAK,iBC3IEiC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBf,MAAK,YAAkD,IAA/CgB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.fdec0daf.chunk.js","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { BeatLoader } from \"react-spinners\";\n\nimport \"./App.scss\";\n\nconst App = () => {\n  const [loading, setLoading] = React.useState(false);\n\n  const phoneRef = React.useRef();\n  const ageRef = React.useRef();\n  const pincodeRef = React.useRef();\n\n  function isValid(length, entity) {\n    switch (length) {\n      case 10:\n        var regx = /^[6-9]\\d{9}$/;\n        if (regx.test(entity)) {\n          return true;\n        }\n        break;\n\n      case 2:\n        var regx = /^\\d{2}$/;\n        if (regx.test(entity)) {\n          return true;\n        }\n        break;\n\n      case 6:\n        var regx = /^[8]\\d{5}$/;\n        if (regx.test(entity)) {\n          return true;\n        }\n        break;\n    }\n    return false;\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    console.log(\n      \"Submitting with \",\n      phoneRef.current.value,\n      ageRef.current.value,\n      pincodeRef.current.value\n    );\n\n    if (!isValid(10, phoneRef.current.value)) {\n      alert(\"Phone number is Invalid\");\n      setLoading(false);\n      return;\n    }\n    if (!isValid(2, ageRef.current.value)) {\n      setLoading(false);\n      alert(\"Please enter valid age\");\n      return;\n    }\n    if (!isValid(6, pincodeRef.current.value)) {\n      setLoading(false);\n      alert(\"Please enter valid pincode. Currently we only support Bihar\");\n      return;\n    }\n    const config = {\n      method: \"post\",\n      url: `https://cowinnotifierwa.herokuapp.com/user`,\n      data: {\n        phone: phoneRef.current.value,\n        age: ageRef.current.value,\n        pincode: pincodeRef.current.value,\n      },\n    };\n\n    axios(config)\n      .then(function (res) {\n        if (res.status == 200) {\n          phoneRef.current.value = \"\";\n          ageRef.current.value = \"\";\n          pincodeRef.current.value = \"\";\n          if (res.data.status === \"success\") {\n            alert(\n              \"Your Request has been submitted. We will notify you instantly for the slots\"\n            );\n            setLoading(false);\n            return;\n          } else if (res.data.message.indexOf(\"E11000\") > -1) {\n            alert(\"We already have your record. Stay safe! we will notify you\");\n            setLoading(false);\n            return;\n          }\n        }\n\n        alert(\n          `Your request didn't go through. We may be little overloaded. Please try again`\n        );\n        setLoading(false);\n        return;\n      })\n      .catch((e) => {\n        setLoading(false);\n        alert(`Your request failed! we may be overloaded. Please try again`);\n      });\n  };\n\n  return (\n    <>\n      <form>\n        <h1>Get instant Alerts for Vaccination slots</h1>\n        <input\n          disabled={loading}\n          placeholder=\"Whatsapp Number\"\n          type=\"tel\"\n          maxLength=\"10\"\n          ref={phoneRef}\n        ></input>\n        <input\n          disabled={loading}\n          placeholder=\"Age\"\n          type=\"tel\"\n          maxLength=\"2\"\n          minLength=\"2\"\n          ref={ageRef}\n        ></input>\n        <input\n          disabled={loading}\n          placeholder=\"Pincode\"\n          type=\"tel\"\n          maxLength=\"6\"\n          ref={pincodeRef}\n        ></input>\n        <button disabled={loading} onClick={handleSubmit}>\n          {loading ? (\n            <BeatLoader size={6} marin={1} color={\"#017DB7\"} />\n          ) : (\n            \"Submit\"\n          )}\n        </button>\n      </form>\n\n      <a href=\"https://twitter.com/manigedit\" target=\"_blank\">\n        <i className=\"fa fa-twitter\"></i>Follow Me\n      </a>\n\n      <link\n        rel=\"stylesheet\"\n        href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\"\n      ></link>\n      <link\n        href=\"https://fonts.googleapis.com/css?family=Roboto:400\"\n        rel=\"stylesheet\"\n        type=\"text/css\"\n      ></link>\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}